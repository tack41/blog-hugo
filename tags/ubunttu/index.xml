<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>ubunttu on tack41&#39;s blog</title>
    <link>https://blog.tack41.net/tags/ubunttu/</link>
    <description>Recent content in ubunttu on tack41&#39;s blog</description>
    <image>
      <url>https://blog.tack41.net/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E</url>
      <link>https://blog.tack41.net/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E</link>
    </image>
    <generator>Hugo -- gohugo.io</generator>
    <lastBuildDate>Thu, 25 Nov 2021 00:00:00 +0900</lastBuildDate><atom:link href="https://blog.tack41.net/tags/ubunttu/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>AD環境のWindowsをAnsibleで操作する(非AD環境)</title>
      <link>https://blog.tack41.net/posts/2021/11/25_01/</link>
      <pubDate>Thu, 25 Nov 2021 00:00:00 +0900</pubDate>
      
      <guid>https://blog.tack41.net/posts/2021/11/25_01/</guid>
      <description>TL;DR Active Directryに参加していないWindow10をWSL2のUbuntu20.04にインストールしたAnsibleで操作する環境を構築しました。kerberos認証が必要ない分、AD参加済みの環境よりは簡単な手順でした。
手順 Windows 10 WSL2を有効にし、Ubuntu20.04をインストール
リモート接続を受け付けるための設定(要管理者権限)
Invoke-WebRequest -Uri https://raw.githubusercontent.com/ansible/ansible/devel/examples/scripts/ConfigureRemotingForAnsible.ps1 -OutFile ConfigureRemotingForAnsible.ps1 powershell -ExecutionPolicy RemoteSigned .\ConfigureRemotingForAnsible.ps1 Ubuntu20.04 最新のAnsibleをインストール
sudo apt update sudo apt install software-properties-common sudo apt-add-repository --yes --update ppa:ansible/ansible sudo apt install ansible https://docs.ansible.com/ansible/2.9_ja/installation_guide/intro_installation.html#ubuntu-ansible 以下のaptパッケージのインストール
python3-pip gcc pip3で以下のPythonライブラリをインストール
pywinrm inventory.ymlに以下の記述を記載
windows: hosts: 192.168.yy.yyy: ansible_connection: winrm ansible_user: user_name ansible_winrm_server_cert_validation: ignore ansible_winrm_transport: basic ansible_port: 5986 ansible -i inventory.yml 192.168.yyy.yyy -m win_ping が成功することを確認</description>
    </item>
    
    <item>
      <title>AD環境のWindowsをAnsibleで操作する</title>
      <link>https://blog.tack41.net/posts/2021/11/24_01/</link>
      <pubDate>Wed, 24 Nov 2021 00:00:00 +0900</pubDate>
      
      <guid>https://blog.tack41.net/posts/2021/11/24_01/</guid>
      <description>TL;DR Active Directryに参加しているWindow10をWSL2のUbuntu20.04にインストールしたAnsibleで操作する環境を構築しました。複雑な手順が必要ですが、操作できることを確認しました。
手順 Windows 10 WSL2を有効にし、Ubuntu20.04をインストール
リモート接続を受け付けるための設定(要管理者権限)
Invoke-WebRequest -Uri https://raw.githubusercontent.com/ansible/ansible/devel/examples/scripts/ConfigureRemotingForAnsible.ps1 -OutFile ConfigureRemotingForAnsible.ps1 powershell -ExecutionPolicy RemoteSigned .\ConfigureRemotingForAnsible.ps1 Ubuntu20.04 最新のAnsibleをインストール
sudo apt update sudo apt install software-properties-common sudo apt-add-repository --yes --update ppa:ansible/ansible sudo apt install ansible https://docs.ansible.com/ansible/2.9_ja/installation_guide/intro_installation.html#ubuntu-ansible 以下のaptパッケージのインストール
python3-pip gcc python-dev libkrb5-dev krb5-user pip3で以下のPythonライブラリをインストール
pywinrm[kerberos] kerberos requests_kerberos pykerberos 以下の内容で/etc/krb5.confを修正
[libdefaults] default_realm = EXAMPLE.COM kdc_timesync = 1 ccache_type = 4 forwardable = true proxiable = true [realms] EXAMPLE.COM = { kdc = dc1.</description>
    </item>
    
  </channel>
</rss>
