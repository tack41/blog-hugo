<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>hyperv on tack41&#39;s blog</title>
    <link>https://blog.tack41.net/tags/hyperv/</link>
    <description>Recent content in hyperv on tack41&#39;s blog</description>
    <image>
      <url>https://blog.tack41.net/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E</url>
      <link>https://blog.tack41.net/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E</link>
    </image>
    <generator>Hugo -- gohugo.io</generator>
    <lastBuildDate>Wed, 10 Nov 2021 00:00:00 +0900</lastBuildDate><atom:link href="https://blog.tack41.net/tags/hyperv/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Hyper-Vでホストとゲストが通信できない</title>
      <link>https://blog.tack41.net/posts/2021/11/10_01/</link>
      <pubDate>Wed, 10 Nov 2021 00:00:00 +0900</pubDate>
      
      <guid>https://blog.tack41.net/posts/2021/11/10_01/</guid>
      <description>TL;DR Hyper-Vでホストとゲストが通信できない場合、まず、Windowsの仮想NICができているか確認したほうが良いかも。
経緯 Hyper-Vでホストとゲストがどうしても通信できないということがありました。久々に利用したPCだったので設定がおかしくなってしまったのかも。
例えば外部スイッチにつないでホスト、ゲストともにゲートウェイまでは通信できるけどお互いへの通信ができない。別のPCからゲストへの通信はできる。 内部スイッチにつないでもだめ。
基本に立ち返ろうと、村嶋 修一氏のHyper-Vネットワークの基本を見たところ、外部ネットワークでホストと共有設定した場合、および内部ネットワークを作成した場合にホストに作成されるはずの仮想NICが無いことに気付きました。
http://www.vwnet.jp/windows/WS12R2/Hyper-V/Hyper-V_Network.htm
いったんスイッチを再作成しようと思い、内部ネットワークのスイッチを削除。 が、外部ネットワークのスイッチはエラーで削除できない。 これは内部的におかしくなっていると判断。いったんHyper-Vをアンインストール。 が、仮想NICが1つだけ残ってしまい、コントロールパネルのネットワーク接続からは削除できない(グレーアウトされている)ためデバイスマネージャーからアンインストール。 その後、再起動を経て再度Hyper-Vをインストールしたところ、外部/内部ネットワークのスイッチ作成時にホスト上に対応した仮想NIC(スイッチ名が「ExternalSwitch」であれば「vEthernet(ExternalSwitch)」というNIC)が作成されていることが確認できました。 ゲスト-ホスト間の通信も問題なし。
トラブルシューティングは、目先のエラーメッセージから安直に検索するのではなく、技術的な基礎に立ち返って原因を下から追いかけることが大事ということを改めて認識しました。</description>
    </item>
    
    <item>
      <title>ESXi 5.1.0上でWin2012 Hyper-Vがインストールできない</title>
      <link>https://blog.tack41.net/posts/2013/05/06_01/</link>
      <pubDate>Mon, 06 May 2013 00:00:00 +0000</pubDate>
      
      <guid>https://blog.tack41.net/posts/2013/05/06_01/</guid>
      <description>VMware ESXi .5.1.0上で検証目的のためにWindows 2012 StandardをインストールしてHyper-Vの役割を追加しようとすると「すでにインストールされています」と表示されてしまう。VMware Toolsをアンインストールしてもだめ。
そういうもんなんかなぁ。
ESXi on VMware Playerは昔動いた記憶があるんだけど、Hyper-V on ESXiは無理なのか?</description>
    </item>
    
    <item>
      <title>VMware, Hyper-V, kvm(&#43;VirtualBox)のトリプルブート</title>
      <link>https://blog.tack41.net/posts/2012/11/29_01/</link>
      <pubDate>Thu, 29 Nov 2012 01:00:00 +0000</pubDate>
      
      <guid>https://blog.tack41.net/posts/2012/11/29_01/</guid>
      <description>VMware, Hyper-V, kvm(+VirtualBox)のトリプルブート環境構築時のメモ。 HDD構成は以下を想定、HDDは2TBを使用。
HDD1: VMware ESXi 5.1 (2TB) HDD2: Hyper-V Server (1TB) kvm(+Virtual Box) (1TB) ブートローダは
USBメモリ-VMware HDD2-grub(Hyper-V/Linux) 通常はUSBメモリよりVMwareをブート。Hyper-V or Linuxブートの際にはUSBメモリを抜き、画面よりどちらかを選択する。
VMware ESXi 5.1.0をUSBメモリにインストール datastoreにHDD1を追加。当初以下のエラーが表示されていた
これは日本語化によるバグらしく、起動時に「-locale en_US」とつけることで回避可能。
Hyper-V Server 2012のインストール
ディスクの指定でHDD1の半分程度を指定する。この時点で、 デフォルトでHyper-Vが起動 BIOSにてHDD2を指定するとVMwareが起動
という状態。ただ、Hyper-VにWindows7で管理するための設定が難しく、ブートはするが使用できない状態… CentOS 6.3のインストール
HDD1の後半の空き領域をインストール先に指定し、デフォルトのブートデバイスとしてHDD2を指定。インストールオプションは「Virtual Host」を指定。
CUIで起動する。VirtualBoxはGUIがないと操作できないので以下のインストールを実施。 yum groupinstall &amp;#34;X Window System&amp;#34; yum groupinstall &amp;#34;Desktop&amp;#34; yum groupinstall &amp;#34;General Purpose Desktop&amp;#34; grubではvmwareに対してはディスクを「(hd1)」と指定する。 Virtual Box
kernel-devel, gccをインストール後、ホームページよりCentOS6用のrppmをダウンロードしてインストール </description>
    </item>
    
  </channel>
</rss>
