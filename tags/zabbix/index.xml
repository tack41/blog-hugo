<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>zabbix on tack41&#39;s blog</title>
    <link>https://blog.tack41.net/tags/zabbix/</link>
    <description>Recent content in zabbix on tack41&#39;s blog</description>
    <image>
      <url>https://blog.tack41.net/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E</url>
      <link>https://blog.tack41.net/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E</link>
    </image>
    <generator>Hugo -- gohugo.io</generator>
    <lastBuildDate>Wed, 21 Oct 2020 00:00:00 +0900</lastBuildDate><atom:link href="https://blog.tack41.net/tags/zabbix/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>ZabbixのDockerイメージバージョンアップ時にtimezoneエラー</title>
      <link>https://blog.tack41.net/posts/2020/10/21_01/</link>
      <pubDate>Wed, 21 Oct 2020 00:00:00 +0900</pubDate>
      
      <guid>https://blog.tack41.net/posts/2020/10/21_01/</guid>
      <description>Dockerにて、本家のイメージを使って運用している。
4.0.22から4.0.24にアップしたところ、以下のエラーが出て監視画面が表示されなくなってしまった。
DateTime::__construct(): Invalid date.timezone value &amp;#39;&amp;#34;Asia/Tokyo&amp;#34;&amp;#39;, we selected the timezone &amp;#39;UTC&amp;#39; for now. よくよくみると、「Asia/Tokyo」の前後にダブルクォーテーションとシングルクォーテーションがついている。ひょっとしてと思い、Dockerで環境変数を指定している箇所
PHP_TZ=&amp;#34;Asia/Tokyo&amp;#34; をダブルクォーテーションなしで
PHP_TZ=Asia/Tokyo と修正したところ、無事表示されるようになった。</description>
    </item>
    
    <item>
      <title>zabbix起動時にエラー</title>
      <link>https://blog.tack41.net/posts/2020/09/15_01/</link>
      <pubDate>Tue, 15 Sep 2020 00:00:00 +0900</pubDate>
      
      <guid>https://blog.tack41.net/posts/2020/09/15_01/</guid>
      <description>zabbix起動時に以下のエラーが表示されてログイン画面が表示されない。
DateTime::__construct(): Invalid date.timezone value &amp;#39;&amp;#34;Asia/Tokyo&amp;#34;&amp;#39;, we selected the timezone &amp;#39;UTC&amp;#39; for now. [再起動] 再起動ボタンを押しても同じ画面が再度表示されるだけ。zabbixは公式のDockerイメージ(zabbix/zabbix-web-nginx-mysqlのタグ「4.0-latet」を使用していた。「4.0.22」に戻したところ、正常に動作することを確認。原因は調査できていない。</description>
    </item>
    
    <item>
      <title>zabbix share のtemplteは素晴らしい</title>
      <link>https://blog.tack41.net/posts/2018/01/10_01/</link>
      <pubDate>Wed, 10 Jan 2018 00:00:00 +0900</pubDate>
      
      <guid>https://blog.tack41.net/posts/2018/01/10_01/</guid>
      <description>社内にて、NAS(Buffalo Terastation)、UPS(APC)の切替を行った。 社内の機器の監視はzabbixで行っており、これらの設定をする際、Zabbix Share のテンプレートが使えたのは非常にありがたかった。
Terastationは3.2用のテンプレートだったが、社内では3.0を運用しているためバージョンの指定を変更後、mokeblogさんのエントリを参考に不要なタグを削除してインポートした。 APCは2.0用だったが、バージョンの指定を変更するだけでインポートできた。(電圧上限、下弦の閾値は200V前提となっていたため、下限:190-&amp;gt;90,上限250-&amp;gt;120に修正した)
これらのSNMP MIBを調べて設定するのは時間がかかるので、こういうのが公開されているのは時間がない管理者としてはありがたい。細かいところを自社に合わせて修正して利用しようと思う。</description>
    </item>
    
    <item>
      <title>redmine, zabbixのActive Directory(LDAP)認証</title>
      <link>https://blog.tack41.net/posts/2017/11/24_01/</link>
      <pubDate>Fri, 24 Nov 2017 13:11:09 +0000</pubDate>
      
      <guid>https://blog.tack41.net/posts/2017/11/24_01/</guid>
      <description>redmine, zabbix共にActive DirectoryのLDAP機能を利用して認証の統合ができる。が、設定方法が引っかかった。
redmineはアカウントごとに認証方式の設定が可能。「管理」の「LDAP認証」にAD認証の設定をしたうえで、AD認証したいアカウントを作成して認証方法をADと指定してやればよい。
一方、zabbixは認証方法を変えるとそれが全ユーザーに適用される。ユーザーグループごとに認証方式が指定できるのだが、既定では「デフォルト」となっている。 認証を変えると、この「デフォルト」の認証方式が変わるので、結果として全ユーザーグループの認証方式が変更されてしまう。なので、「Zabbix administrators」グループの認証方式を事前にローカルに変更しておく必要がある。
だが、インストール時に作成される管理者アカウントでログインした状態だと、この「Zabbix administrators」グループの認証方式を変更できない。自分、及び自分のプライマリグループに関する情報は変更できないらしい。なので、別のユーザーグループを作成し、そこに所属するアカウントを作成。アカウントに「Zabbix特権管理者」権限を付与。そのアカウントでログインして「Zabbix administrators」グループの認証方式を「Zabbixデータベース内のユーザー情報」に変更する、という手順を踏む必要がある。 zabbixめんどい。</description>
    </item>
    
  </channel>
</rss>
