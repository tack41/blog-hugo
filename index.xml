<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>tack41&#39;s blog</title>
    <link>https://blog.tack41.net/</link>
    <description>Recent content on tack41&#39;s blog</description>
    <image>
      <url>https://blog.tack41.net/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E</url>
      <link>https://blog.tack41.net/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E</link>
    </image>
    <generator>Hugo -- gohugo.io</generator>
    <lastBuildDate>Sun, 19 Aug 2018 00:00:00 +0000</lastBuildDate><atom:link href="https://blog.tack41.net/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Access 2003からMariaDBに移行</title>
      <link>https://blog.tack41.net/posts/2018/08/19_01/</link>
      <pubDate>Sun, 19 Aug 2018 00:00:00 +0000</pubDate>
      
      <guid>https://blog.tack41.net/posts/2018/08/19_01/</guid>
      <description>内製のAccess 2003アプリを、DB部分はMariaDBに移行している。 フロントは.Net(C#)
ツールを使って工数を削減できないかと模索したが、以下のような正攻法で攻めるしかないと言う結論に達した。
 Access側のテーブルにて、極力Not Null制約を適用する&amp;hellip; 後述のデータ移行クエリ実行の際、NullがあるとINSERT SELECT 文がこけるため、Nullの場合とそうで無い場合で別クエリを実行する必要が出てくるため。
文字列型は、NULL=空文字と考えて問題ない場合がほとんどと想定されるので、以下の手順を機械的に実行する。
文字列でない場合はNULLを置き換えるべき値が自明でない場合も多いので、一旦NULL値固定で移行し、列ごとに個別で移行(UPDATE DEST.COL=SRC.COL WHERE SRC.COL IS NOT NULL)  対象列の空文字を許可する。 該当列を更新する部分にてNULLの場合は空文字に置き換える処理を追加  画面のフォームがデータと連結していてSQLではなくDoCmdで処理している場合、後付でSQLを組み込むと競合エラーが面倒なので、単純にフォームの値をNz関数でNullを置換してやれば良い ウィザードに従って作成した画面などで、データ更新処理を明示的に記載されていない場合は、フォームの追加・更新前処理イベントにてNz関数を適用する   UPDATE文で該当列のNULLを空文字に置換 該当列にNOT NULL制約を適用。   MariaDB側に、同一レイアウトのテーブルを新規作成。参照制約も実装。 MariaDBのODBCドライバをインストールし、対象のMariaDBをODBC登録。 AccessのリンクテーブルとしてMariaDBのテーブルを登録 AccessのテーブルからMariaDBのテーブルにデータを流し込む(INSERT SELECT)クエリを作成、初回の移行を行う。
参照整合性制約から、移行可能な順番がはっきりする。 MariaDBのデータに対してアクセスするフロントプログラムを作成する。  移行後のテーブルレイアウトそのものでプログラムの動作検証が可能。   フロントプログラムの作成が完了したら、MariaDBの全データをTruncateしてデータの本番移行を行う。  データ移行の逆順で実行しても参照整合性制約からデータを削除できない場合がある。素直に参照整合性制約を一時削除し、データの削除完了後に再度作成する。    テーブル名や列名にスペースやマルチバイト文字が入ってて命名規則を満たしていない、明らかに数量データなのに文字列型になっている&amp;hellip;といった問題はこれ以降にじっくりリファクタリングしていく。上記の手順とリファクタリングを同時に行うのはリスクが大きい。</description>
    </item>
    
    <item>
      <title>MariaDBからSQL Serverを直接参照するテーブルを作成</title>
      <link>https://blog.tack41.net/posts/2017/10/10_01/</link>
      <pubDate>Tue, 10 Oct 2017 00:00:00 +0000</pubDate>
      
      <guid>https://blog.tack41.net/posts/2017/10/10_01/</guid>
      <description>概要 Windows上のMariaDBからSQL Serverを直接参照するテーブルを作成します。Accessのリンクテーブル。 Connect Storageという機能を利用します。
経緯 社内データの保管に、以下の理由でSQL Serverを利用していました。
 ODBCを設定せずにExcelから参照できる。 Windows認証を利用できるので、アプリで認証を考慮する必要がない。  後者に関しては、エラー時の対応等、逆にややこしくなりそうでメリットにならないと判断。ただ、前者を利用した、簡易BIとしてのExcelピボットテーブルファイルが利用されているため、うまく対応する必要がありました。
将来性を考えると、10GBに制限されるSQL Server Express Editionは避けたいところ。そこで、まずMariaDBサーバを立ててSQL Serverのデータを参照する形で運用を開始することにしました。
MariaDBには、異種データベースを参照するConnect Storage Engineという機能があることが分かり、これを利用して実装しました。
前提  OS: Windows Server 2008 R2 Maria DB: 10.2.9 SQL Server: SQL Server 2008 R2　Express Edition  データベース名: DBTEST DBユーザー名: USERTEST, パスワード: PASSTEST テーブル名: TABLETEST    手順   管理ツールの「データソース(ODBC)」にて、SQL ServerへのDSNを登録(DSN名を「SQLSVR」とする)
  MariaDBにmysqlクライアントで接続し、以下のコマンドでConnect Storage Engineを有効化する。
INSTALL SONAME &amp;#39;ha_connect&amp;#39;   以下のコマンドでConnect Storage Engine経由での参照を利用したテーブルエントリを作成する。
CREATE TABLE TABLETEST ENGINE=CONNECT DEFAULT CHARSET=cp932 TABLE_TYPE=ODBC CONNECTION=&amp;#39;DSN=SQLSVR;UID=USERTEST;PWD=PASSTEST&amp;#39;;   問題点 上記手順だと、該当のデータベースの一覧(show tables)まではできるが、内容を取得(select * from &amp;hellip;)できない。 SELECTしか必要ない場合においても、全データベースに対する全操作の権限(grant all on .</description>
    </item>
    
    <item>
      <title>Dockerでstorageにoverlayを使う際の注意事項(2016/2時点,CentOS7)</title>
      <link>https://blog.tack41.net/posts/2016/02/09_02/</link>
      <pubDate>Tue, 09 Feb 2016 02:00:00 +0000</pubDate>
      
      <guid>https://blog.tack41.net/posts/2016/02/09_02/</guid>
      <description>Dockerでstorage driverにoverlayを使ってはまったこと。
2016/2時点 CentOS7でのdocker(1.8.2)においては、コンテナのファイルが2GBを超えると、読み込めなくなるようだ。
mariadbにて、dumpファイルの取り込みまでは問題ないのだが、これを一旦停止し、再度立ち上げようとすると「27: File too large」というメッセージが出て起動できない。 ググってみたところ、どうもこのメッセージはMariaDBというよりもOSが出しているようだ。そのことに気づいてoverlayをdevicemapperに戻したところ、現象は発生しなくなった。
開発者サイドでも、まだoverlayは何が起こるかわからない、というスタンスらしいので、要注意。</description>
    </item>
    
    <item>
      <title>Dockerでのmysql利用時の注意</title>
      <link>https://blog.tack41.net/posts/2016/02/09_01/</link>
      <pubDate>Tue, 09 Feb 2016 01:00:00 +0000</pubDate>
      
      <guid>https://blog.tack41.net/posts/2016/02/09_01/</guid>
      <description>Dockerでmysqlを利用する際にはまったこと。
Dockerfile等で初期データを流し込みたい場合、mysqld_safeを「バックグラウンド」で起動しておいてmysqlコマンドで流しこみを行うのだが、
nohup mysqld_safe &amp;amp; mysql -u root &amp;lt; init.sql のように実行してしまうと、 mysqlサーバが起動する前にコマンドが帰ってきてしまうため2行目で「mysql.sockがない」という旨のエラーが返ってきてしまう。
このような場合、1行目の後に以下のようなループを噛ませるとうまく行くはず。(bashの場合)
nohup mysqld_safe &amp;amp; for {1..10}; do if [ -e /var/lib/mysql/mysql.sock ]; then break fi sleep 1 done </description>
    </item>
    
    <item>
      <title>VPSのCentOS7にRails環境構築</title>
      <link>https://blog.tack41.net/posts/2015/08/09_01/</link>
      <pubDate>Sun, 09 Aug 2015 00:00:00 +0000</pubDate>
      
      <guid>https://blog.tack41.net/posts/2015/08/09_01/</guid>
      <description>さくらのVPS上にCentOS7.0でRails環境を構築したのでそのメモ。 一般ユーザーにて、必要に応じてsudoをかませて実行。
 ユーティリティプログラムをインストール git clone https://github.com/sstephenson/rbenv.git ~/.rbenv git clone https://github.com/sstephenson/ruby-build.git ~/.rbenv/plugins/ruby-build echo &amp;#39;export PATH=&amp;#34;$HOME/.rbenv/bin:$PATH&amp;#34;&amp;#39; &amp;gt;&amp;gt; ~/.bash_profile echo &amp;#39;eval &amp;#34;$(rbenv init -)&amp;#34;&amp;#39; &amp;gt;&amp;gt; ~/.bash_profile exec $SHELL  必要なパッケージのインストール $ sudo yum install libffi-devel zlib zlib-devel openssl openssl-devel readline-devel sqlite-devel  ruby 2.2.0をインストール rbenv install 2.2.0 rbenv global 2.2.0  railsをインストール gem update --system gem install --no-ri --no-rdoc rails gem install bundler rbenv rehash rails -v  動作確認 rails s -b 0.</description>
    </item>
    
    <item>
      <title>ESXi 5.1.0上でWin2012 Hyper-Vがインストールできない</title>
      <link>https://blog.tack41.net/posts/2013/05/06_01/</link>
      <pubDate>Mon, 06 May 2013 00:00:00 +0000</pubDate>
      
      <guid>https://blog.tack41.net/posts/2013/05/06_01/</guid>
      <description>VMware ESXi .5.1.0上で検証目的のためにWindows 2012 StandardをインストールしてHyper-Vの役割を追加しようとすると「すでにインストールされています」と表示されてしまう。VMware Toolsをアンインストールしてもだめ。
そういうもんなんかなぁ。
ESXi on VMware Playerは昔動いた記憶があるんだけど、Hyper-V on ESXiは無理なのか?</description>
    </item>
    
    <item>
      <title>FreeNAS8.3.1でiSCSI target</title>
      <link>https://blog.tack41.net/posts/2013/05/04_01/</link>
      <pubDate>Sat, 04 May 2013 00:00:00 +0000</pubDate>
      
      <guid>https://blog.tack41.net/posts/2013/05/04_01/</guid>
      <description>オープンソースでiSCSIターゲットを実装可能なFreeNASを利用し、Windows 2012より利用する。
1. 初期設定  FreeNAS 8.3.1のインストール  CPU: i5 2405S 1c MEM: 1GB Disk1: 30GB(OS Install) Disk2 :10GB(iSCSI Volume)   CUIにてNWアドレスを設定  2. iSCSI targetの設定  WebUIにてアクセス ボリュームの追加  [Volume]-[Volume Manager]にてボリュームを追加する。 上段[Servies]-[Core]にてiSCSIをオンにする
   iSCSIポータルの設定
[iSCSI]-[ポータル]を選択し、アクセス制限を設定する(ここではオールOKとした)
 Initiatorの許可
[iSCSI]-[Initiator]で接続元のInitiatorを制限する(下図では制限なし)
 ポータルの追加
[iSCSI]-[Portal]を選択し、ポータルを追加する(下図では全アクセスを許可)
 Initiatorの設定
[iSCSI]-[Initiators]よりInitiatorのアクセス制限をかける。下図では制限なし。  ターゲットの追加
[iSCSI]-[Targets]を開き、[Add Target]ボタンをクリック
すべて入力して[OK]をクリック。 ターゲットにエクステントを追加
[iSCSI]-[Associated Targets]を開き、[Add Extend to Target]をクリックする
これまで入力した内容を入力する
 WindowsやLinuxのiSCSI initiatorから接続できることを確認。  </description>
    </item>
    
    <item>
      <title>Windows Server 2012でiSCSI target (2)initiator側</title>
      <link>https://blog.tack41.net/posts/2013/04/19_02/</link>
      <pubDate>Fri, 19 Apr 2013 02:00:00 +0000</pubDate>
      
      <guid>https://blog.tack41.net/posts/2013/04/19_02/</guid>
      <description> [管理ツール]-[iSCSIイニシエーター]を起動 初回はサービス起動確認のダイアログが表示されるので[はい]をクリック
 [ターゲット]にiSCSI TargetサーバのIPアドレスを入力して[クイック接続]をクリック
 Targetが認識されているのを確認し、[完了]をクリックする。
 [ディスクの管理]にて作成したディスクが認識されていることを確認する。
  </description>
    </item>
    
    <item>
      <title>Windows Server 2012でiSCSI target (1)target側</title>
      <link>https://blog.tack41.net/posts/2013/04/19_01/</link>
      <pubDate>Fri, 19 Apr 2013 01:00:00 +0000</pubDate>
      
      <guid>https://blog.tack41.net/posts/2013/04/19_01/</guid>
      <description>iSCSI target, initiator共にWindows Server 2012(Full)
[iSCSI target]
 [ローカルサーバー]-[管理]-[役割と機能の追加]を選択
 [次へ]をクリック
 [役割ベースまたは機能ベースのインストール]を選択
 自身のサーバを選択
 [ファイルサービスおよび記憶域サービス]-[ファイルサービスおよびiSCSIサービス]-[iSCSIターゲットサーバー]、[iSCSIターゲット記憶域プロバイダー]を選択
 機能は追加せずに[次へ]をクリック
 [インストール]を選択
 [閉じる]を選択
 サーバマネージャーに戻り、[ファイルサービスと記憶域…]を選択
 [iSCSI]を選択
 [タスク]-[新しいiSCSI仮想ディスク]を選択
 ディスクを作成するボリュームを選択し、「次へ」をクリック。
 適当な名前を入力し、次へをクリック
 割り当て容量を入力し、次へをクリック
 [新しいiSCSIターゲット]を選択
 適当な名前を入力し、[次へ]をクリック。
 [追加]をクリック
 iSCSI initiatorの情報を入力
 必要に応じてCHAP, リバースCHAPを有効にする
 [作成]をクリックして完了する
 正常に作成されたのを確認し、[閉じる]をクリック。
  </description>
    </item>
    
    <item>
      <title>FreeNAS(8.3.0)にてCIFS設定</title>
      <link>https://blog.tack41.net/posts/2012/12/11_01/</link>
      <pubDate>Tue, 11 Dec 2012 00:00:00 +0000</pubDate>
      
      <guid>https://blog.tack41.net/posts/2012/12/11_01/</guid>
      <description>任意のユーザーにアクセス許可を与える場合  CDにてインストール 初回起動後、コンソールにてIPアドレス、DNSを設定 Webコンソールにて[Storage]-[Active Volumes]-[Volume Manager]を選択
 対象のボリュームを選択し、必要な情報を入力して[Add Volume]をクリック
 [Storage]にて先ほど作成した「Volume1」にて[Change Permissions]をクリック。
 Owner(user/group)にて適切な所有者を指定する。今回は全ユーザーに許可を与えるためnobodyをOwnerに指定している。
 [Shares]-[Windows(CIFS)]-[Add Windows(CIFS) Share]をクリック。
 必要な情報を入力する。ポイントは以下の通り。  [Path]には前で作成したボリューム(/mnt/Volume1)を入力する。 以下のチェックボックスにチェックを入れる。  Browsable to Network Clients Allow Guests Access Only Allow Guest Access      CIFSサービスを起動するかどうか確認ダイアログが表示されるので、Yesをクリックする。
 [Services]にて[CIFS]が[ON]になっていることを確認し、右にあるスパナのアイコンをクリックする。
 CIFSの各種設定を行う。ポイントは以下の通り。  Authentication Modelは「Local User」を指定する。「Anonymous」を指定するとファイルを作成できるが変更・削除ができなくなる。 DOS charsetは「CP932」を指定。 上記以外はデフォルトのまま
   Explorerにて上記で作成したフォルダが見えることを確認。
 ファイルやフォルダを作成できることを確認。   特定ユーザーにアクセス許可を与える場合 (上記任意のユーザーにアクセス許可を与える作業は実施済みとする)
 [Account]-[Users]-[Add User]にてアクセス許可を与えるユーザーを作成する。 [Shares]-[Windows(CIFS)]にて作成済みの共有フォルダの[Edit]ボタンをクリックする。
 最下部の「Allow Guest Access」「Only Allow Guest Access」のチェックを外して[OK]ボタンをクリックする。</description>
    </item>
    
    <item>
      <title>Ubuntu12.10でHulu</title>
      <link>https://blog.tack41.net/posts/2012/12/03_01/</link>
      <pubDate>Mon, 03 Dec 2012 00:00:00 +0000</pubDate>
      
      <guid>https://blog.tack41.net/posts/2012/12/03_01/</guid>
      <description>Ubuntu12.10 64bitにてHuluの字幕が文字化けする。
ネットで検索してフォント関連をインストールしてみたがうまく行かない。
同様の現象に悩んでいる人もいるようだ…
http://solvedmyquestions.blogspot.jp/2012/11/ubuntu-hulu.html</description>
    </item>
    
    <item>
      <title>Ubuntu 12.10でkvm</title>
      <link>https://blog.tack41.net/posts/2012/12/02_01/</link>
      <pubDate>Sun, 02 Dec 2012 00:00:00 +0000</pubDate>
      
      <guid>https://blog.tack41.net/posts/2012/12/02_01/</guid>
      <description>以下を参照。
http://blog.livedoor.jp/shota_soga_/archives/3527400.html
  sudo apt-get install kvm qemu-kvm libvirt-bin virt-viewer virt-manager sudo modprobe kvm sudo service libvirt-bin start sudo virt-manager sudo virt-manager  引き続き、他のPCと同じNW環境にするためのブリッジ設定。
http://tipspc.blogspot.jp/2011/09/qemu-kvm-ubuntu-debian.html NetworkManagerを削除 sudo apt-get remove network-manager  &amp;ldquo;/etc/network/interfaces&amp;quot;を以下のとおり編集。 auto lo iface lo inet loopback auto eth0 iface eth0 inet manual auto br0 iface br0 inet dhcp bridge_ports eth0 bridge_maxwait 0 bridge_fd 0 bridge_stp off   </description>
    </item>
    
    <item>
      <title>Ubuntu12.10の初期設定</title>
      <link>https://blog.tack41.net/posts/2012/11/29_02/</link>
      <pubDate>Thu, 29 Nov 2012 02:00:00 +0000</pubDate>
      
      <guid>https://blog.tack41.net/posts/2012/11/29_02/</guid>
      <description>下記参照。 http://ubuntuapps.blog67.fc2.com/blog-entry-446.html
ipv6の無効化 /etc/sysctl.confの最終行に以下のコメントを追加
net.ipv6.conf.all.disable_ipv6 = 1 OS再起動
ファイアウォールを有効にし、ssh, vncを許可
sudo ufw enable sudo ufw default DENY sudo ufw allow 22 sudo ufw allow 5900 sudo ufw status </description>
    </item>
    
    <item>
      <title>VMware, Hyper-V, kvm(&#43;VirtualBox)のトリプルブート</title>
      <link>https://blog.tack41.net/posts/2012/11/29_01/</link>
      <pubDate>Thu, 29 Nov 2012 01:00:00 +0000</pubDate>
      
      <guid>https://blog.tack41.net/posts/2012/11/29_01/</guid>
      <description>VMware, Hyper-V, kvm(+VirtualBox)のトリプルブート環境構築時のメモ。 HDD構成は以下を想定、HDDは2TBを使用。
 HDD1: VMware ESXi 5.1 (2TB) HDD2:  Hyper-V Server (1TB) kvm(+Virtual Box) (1TB)    ブートローダは
 USBメモリ-VMware HDD2-grub(Hyper-V/Linux)  通常はUSBメモリよりVMwareをブート。Hyper-V or Linuxブートの際にはUSBメモリを抜き、画面よりどちらかを選択する。
 VMware ESXi 5.1.0をUSBメモリにインストール datastoreにHDD1を追加。当初以下のエラーが表示されていた
これは日本語化によるバグらしく、起動時に「-locale en_US」とつけることで回避可能。
 Hyper-V Server 2012のインストール
ディスクの指定でHDD1の半分程度を指定する。この時点で、  デフォルトでHyper-Vが起動 BIOSにてHDD2を指定するとVMwareが起動
という状態。ただ、Hyper-VにWindows7で管理するための設定が難しく、ブートはするが使用できない状態…   CentOS 6.3のインストール
HDD1の後半の空き領域をインストール先に指定し、デフォルトのブートデバイスとしてHDD2を指定。インストールオプションは「Virtual Host」を指定。
CUIで起動する。VirtualBoxはGUIがないと操作できないので以下のインストールを実施。 yum groupinstall &amp;#34;X Window System&amp;#34; yum groupinstall &amp;#34;Desktop&amp;#34; yum groupinstall &amp;#34;General Purpose Desktop&amp;#34; grubではvmwareに対してはディスクを「(hd1)」と指定する。 Virtual Box
kernel-devel, gccをインストール後、ホームページよりCentOS6用のrppmをダウンロードしてインストール  </description>
    </item>
    
    <item>
      <title>Adempiereインストール</title>
      <link>https://blog.tack41.net/posts/2012/4/01_01/</link>
      <pubDate>Sun, 01 Apr 2012 00:00:00 +0000</pubDate>
      
      <guid>https://blog.tack41.net/posts/2012/4/01_01/</guid>
      <description>CentOS6.2にAdempiereインストール
[前提条件]
 CentOS 6.2(x86_64) JDK1.6.0u31 Adempiere 3.6.0J_CE PostgreSQL管理者 postgres/postgrespw Adempiere用DBユーザ adempiere/adempierepw Adempiereインストールパス /opt/Adempiere3.6.0J_CE/ AdempiereKeystoreインストールパス /opt/Adempiere3.6.0J_CE/keystore Adempiere Keystore パスワード adempierekeypw   CentOS6.2 インストール(Minimal) PostgreSQLインストール yum install postgresql-server  PostgreSQL初期化 service postgresql initdb service postgresql start chkconfig postgresql on  PostgreSQL接続設定 service postgresql stop vi /var/lib/pgsql/data/pg_hba.conf ----- local all all trust host all all 127.0.0.1/32 trust host all all ::1/128 trust ----- vi /var/lib/pgsql/data/postgresql.conf ----- listen_address = &amp;#39;*&amp;#39; port = 5432 ----- service postgresql start  PostgreSQLユーザ設定 psql --u postgres ----- postgres=#ALTER USER postgres encrypted password &amp;#39;postgrespw&amp;#39;; postgres=#CREATE DATABASE adempiere; postgres=#CREATE USER adempiere WITH ENCRYPTED PASSWORD &amp;#39;adempierepw&amp;#39;; postgres=#\q -----  JDKインストール bash jdk-6u31-linux-x64-rpm.</description>
    </item>
    
    <item>
      <title>Androidフォンをひかり電話の子機化、VPN接続で屋外でも家電(いえでん)</title>
      <link>https://blog.tack41.net/posts/2012/1/28_02/</link>
      <pubDate>Sat, 28 Jan 2012 02:00:00 +0000</pubDate>
      
      <guid>https://blog.tack41.net/posts/2012/1/28_02/</guid>
      <description>ネットと同時にひかり電話をひいていたこともあり、興味があって手持ちのAndroidフォン(HTC Evo Wimax)を子機化し、さらにVPNで自宅外でも家電をかけられるように設定した。
SIPサーバに接続するネットワークと、PPPoE経由で外部と接続する家庭内ネットワークがどうしても別々となり、VPNで内部に入った際にSIPサーバに接続できない(一般にSIPクライアントはNAT超えができない)のがネックになりそうだったが、以下の記事を参考にこの2つのネットワークを入り口が2つある同一ネットワークとすることで希望を満たすことができた。
http://musemd.at.webry.info/201107/article_1.html
ONUからの線を分岐させるためのハブが別途必要となる。</description>
    </item>
    
    <item>
      <title>Oracle 11g Express EditionをCentOSにインストール</title>
      <link>https://blog.tack41.net/posts/2012/1/28_01/</link>
      <pubDate>Sat, 28 Jan 2012 01:00:00 +0000</pubDate>
      
      <guid>https://blog.tack41.net/posts/2012/1/28_01/</guid>
      <description>インストール要件は以下のURLを参照。 http://docs.oracle.com/cd/E17781_01/install.112/e18802/toc.htm#autoId3
CentOS5.2にインストールする(vault.centos.orgより)。
 CentOSインストール  Desktop - GNOME Server Firewall無効 SELinux無効
※swapを2006MB以上確保しないとoracleインストールチェックで弾かれるので注意   更新適用、再起動 yum update reboot  必要なパッケージがインストールされていることを確認 rpm -qa | grep -E &amp;#39;glibc|make|binutils|gcc|libaio&amp;#39;  VMWare Toolsインストール、再起動 Oracleインストール unzip oracle-xe-11.2.0-1.0.x86_64.rpm.zip rpm -ivh oracle-xe-11.2.0-1.0.x86_64.rpm  環境変数設定 cd /u01/app/oracle/product/11.2.0/xe/bin . ./oracle_env.sh bashrcに以下の行を追加 . /u01/app/oracle/product/11.2.0/xe/bin/oracle_env.sh  リモートアクセスを可能にする sqlplus system SQL&amp;gt; EXEC DBMS_XDB.SETLISTENERLOCALACCESS(FALSE);   </description>
    </item>
    
    <item>
      <title>SCOM ワークグループ環境でのエージェントインストール手順</title>
      <link>https://blog.tack41.net/posts/2012/1/09_04/</link>
      <pubDate>Mon, 09 Jan 2012 04:00:00 +0000</pubDate>
      
      <guid>https://blog.tack41.net/posts/2012/1/09_04/</guid>
      <description>スタンドアロンルート証明局を立てて行う。 エンタープライズ証明局の場合は、後述の手順が追加で必要となる。
A. Workgroup環境のコンピュータにAgentを登録する手順 &amp;lt;管理サーバー&amp;gt;
 (1)-(a) CA に証明書を要求する。 (2)-(b) 保留中の証明書要求を承認する。 (3)-(c) 証明書を取得する。 (* 4)-(d) 証明書のエクスポート  &amp;lt;エージェントインストール対象のサーバー&amp;gt;
 (5)-(e) 証明書チェーンをインストールする (6)-(f) 信頼されたルート証明書をローカルコンピュータにコピーする (7)-(a) CA に証明書を要求する。 (8)-(b) 保留中の証明書要求を承認する。 (9)-(c) 証明書を取得する。 (10)-(d) 証明書のエクスポート  &amp;lt;管理サーバー&amp;gt;
 (11)-(g) MOMCertImport を使用して証明書をインポートする  &amp;lt;エージェントインストール対象のサーバー&amp;gt;
 (12)-(g) MOMCertImport を使用して証明書をインポートする  (a) CA に証明書を要求する。  証明書をインストールするコンピュータ (管理サーバーやエージェントインストール対象のサーバー) にログオンする。 Internet Explorer を起動し、証明書サービスのホスト コンピュータ (http://&amp;lt;サーバー名&amp;gt;/certsrv など) に接続する。 [Microsoft 証明書サービス] ページで [証明書を要求する] をクリックする。 [証明書の要求] ページで [証明書の要求の詳細設定] をクリックする。 [証明書の要求の詳細設定] ページで [この CA への要求を作成し送信する。] をクリックする。 [証明書の要求の詳細設定] ページで次の処理を行う。  [識別情報] の [名前] フィールドに、証明書の要求対象のコンピュータ(管理サーバーやエージェントインストール対象のサーバー) の完全修飾ドメイン名 (FQDN) を入力します。残りのフィールドに、適切な情報を入力する。</description>
    </item>
    
    <item>
      <title>SCOM クラスタ環境の監視について</title>
      <link>https://blog.tack41.net/posts/2012/1/09_03/</link>
      <pubDate>Mon, 09 Jan 2012 03:00:00 +0000</pubDate>
      
      <guid>https://blog.tack41.net/posts/2012/1/09_03/</guid>
      <description>クラスタ環境で仮想ホストの監視を行う場合、エージェントプロキシを有効にする必要がある。
エージェントプロキシを有効にすると、監視対象ホスト一覧に仮想ホストも表示されるようになる。</description>
    </item>
    
    <item>
      <title>SCOM レポートスケジュールのバグ</title>
      <link>https://blog.tack41.net/posts/2012/1/09_02/</link>
      <pubDate>Mon, 09 Jan 2012 02:00:00 +0000</pubDate>
      
      <guid>https://blog.tack41.net/posts/2012/1/09_02/</guid>
      <description>SQL Server 2008のバグにより、レポートのスケジュール機能が動作しない場合がある。
Scheduled reports that you create by using SQL Server 2008 Reporting Services (SSRS) do not display chart data in System Center Operations Manager 2007 R2
対策  SQL Server の稼動しているコンピューターに、管理者権限のあるユーザーでログイン エクスプローラで以下のフォルダを開きます。Reporting Services フォルダは、SQL Server Reporting Services のインストールフォルダにある
¥Reporting Services¥ReportServer¥bin 開いたフォルダにある ReportingServicesService.exe.config をコピーし (バックアップ)、メモ帳で開く 下記の内容を、&amp;lt;dependentAssembly&amp;gt; と &amp;lt;/dependentAssembly&amp;gt; に囲まれた部分に追加する &amp;lt;assemblyIdentity name=&amp;#34;Microsoft.ReportingServices.ProcessingCore&amp;#34; publicKeyToken=&amp;#34;89845dcd8080cc91&amp;#34; culture=&amp;#34;neutral&amp;#34; /&amp;gt; &amp;lt;bindingRedirect oldVersion=&amp;#34;9.0.242.0&amp;#34; newVersion=&amp;#34;10.0.0.0&amp;#34; /&amp;gt; &amp;lt;/dependentAssembly&amp;gt; &amp;lt;dependentAssembly xmlns=&amp;#34;urn:schemas-microsoft-com:asm.v1&amp;#34;&amp;gt; &amp;lt;assemblyIdentity name=&amp;#34;Microsoft.ReportingServices.ProcessingCore&amp;#34; publicKeyToken=&amp;#34;89845dcd8080cc91&amp;#34; culture=&amp;#34;neutral&amp;#34; /&amp;gt; &amp;lt;bindingRedirect oldVersion=&amp;#34;9.0.242.0&amp;#34; newVersion=&amp;#34;10.0.0.0&amp;#34; /&amp;gt;  変更を保存して、ファイルを閉じる SQL Server Reporting Services を再起動する  </description>
    </item>
    
    <item>
      <title>SCOM 2007 R2 インストール手順</title>
      <link>https://blog.tack41.net/posts/2012/1/09_01/</link>
      <pubDate>Mon, 09 Jan 2012 01:00:00 +0000</pubDate>
      
      <guid>https://blog.tack41.net/posts/2012/1/09_01/</guid>
      <description>Windows Server 2008 R2 Enterpriseを前提とする。
 ドメイン参加 SQL Server 2008のインストール
Windows Server 2008 R2ではSQL Server 2008をインストールする際はService Pack1移行の適用が必要となるため、以下のURLを参考にスリップストリームインストールを行う。  新規スタンドアロン データベースエンジンサービス, Reporting Services, 管理ツール - 基本, 完全 ネイティブモードの既存の構成をインストールする
※ SQL Server 2008 R2をインストールする場合、SCOMインストール時に下記URLにあるとおり手動作業が必要となる。 http://engineer-memo.com/blogs/engineer-memo/archive/2010/10/27/sql-server-2008-r2-opsmgr.aspx   役割の追加にて「Webサーバ(IIS)」をインストールし、以下のURLにあるとおり、以下の項目を有効にする。
http://support.microsoft.com/kb/973451/ja  [役割サービス] ページで、[HTTP 基本機能] を展開し、以下のチェック ボックスをオンにします。  [静的なコンテンツ] [既定のドキュメント] [ディレクトリの参照] [HTTP エラー] [HTTP リダイレクション]   [アプリケーション開発] を展開し、以下のチェック ボックスをオンにします。  [ASP.NET] [.NET 拡張性] [ASP] [ISAPI 拡張] [ISAPI フィルタ]
注 : 必要な役割サービスを追加するように求めるメッセージが表示されたら、[OK] をクリックします。   [状態と診断] を展開し、以下のチェック ボックスをオンにします。  [HTTP ログ] [要求の監視] [セキュリティ] を展開し、以下のチェック ボックスをオンにします。 [Windows 認証] [要求フィルタ]   [管理ツール] を展開し、以下のチェック ボックスをオンにします。  [IIS 管理コンソール] [IIS 6 管理互換]   さらに [IIS 6 管理互換] を展開し、以下のチェック ボックスをオンにします。  [IIS 6 メタベース互換] [IIS 6 WMI 互換] [IIS 6 スクリプトツール] [IIS 6 管理コンソール]     ASP.</description>
    </item>
    
  </channel>
</rss>
